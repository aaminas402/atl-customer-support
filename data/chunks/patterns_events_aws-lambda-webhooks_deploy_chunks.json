[
  {
    "content": "Deploy your code - Developer\nSkip to content\nDeploying your code\n¶\nYou should now be in a position to deploy your code.\nPackage the code\n¶\nBefore uploading the code, first package it.\nJava\nPython\nTo ensure any of your logging statements reach the AWS CloudWatch logs, build your Java code to a jar file that includes log bindings for SLF4J. For example, you could use logback as follows in Gradle:\nbuild.gradle\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\nplugins\n{\nid\n'java'\nid\n\"com.github.johnrengelman.shadow\"\nversion\n\"7.1.2\"\n}\nshadowJar\n{\narchiveClassifier\n=\n'jar-with-dependencies'\ndependencies\n{\ninclude\n(\ndependency\n(\n'ch.qos.logback:logback-classic:.*'\n))\ninclude\n(\ndependency\n(\n'ch.qos.logback:logback-core:.*'\n))\n}\n}\ntask\nbuildZip\n(\ntype:\nZip\n)\n{\nfrom\ncompileJava\nfrom\nprocessResources\ninto\n(\n'lib'\n)\n{\nfrom\nshadowJar\n}\n}\nThen, by running\n./gradlew buildZip\nyou will have a ready-to-upload zip file with your code under the\nbuild/distributions\ndirectory of your codebase.\nNot necessary to include the Java SDK itself\nNote that you do not need to bundle the Java SDK itself as part of your code package. The SDK will be used automatically via the AWS Lambda layer we created earlier.",
    "metadata": {
      "source_url": "patterns_events_aws-lambda-webhooks_deploy.html",
      "source_type": "sdk",
      "file": "patterns_events_aws-lambda-webhooks_deploy.json",
      "chunk_id": 0
    }
  },
  {
    "content": "Note that you do not need to bundle the Java SDK itself as part of your code package. The SDK will be used automatically via the AWS Lambda layer we created earlier.\nWe recommend just copying and pasting your code to the default\nlambda_function.py\nfile set up for you when configuring the AWS Lambda function. Alternatively, when your code relies on other libraries (that you don't have other layers providing), you can review\nAWS's own documentation for building an archive for Python code\nthat will bundle all of those dependencies with your code.\nNot necessary to include the Python SDK itself\nNote that you do not need to bundle the Python SDK itself as part of your code package. The SDK will be used automatically via the AWS Lambda layer we created earlier.\nUpload the code\n¶\nNavigate back to your\nAWS Lambda functions console\n.\nFrom the\nFunctions\nlist, click the function you want to deploy your code into.\nOn the\nCode\ntab:\nJava\nPython\nIn the upper-right of the\nCode source\ntable, click\nUpload from\nand then\n.zip or .jar file\n.\nUse the\nUpload\nbutton to select the zip file containing your code.\nIn the lower-right of the dialog click the\nSave\nbutton to deploy your code.\nScroll down to the",
    "metadata": {
      "source_url": "patterns_events_aws-lambda-webhooks_deploy.html",
      "source_type": "sdk",
      "file": "patterns_events_aws-lambda-webhooks_deploy.json",
      "chunk_id": 1
    }
  },
  {
    "content": "and then\n.zip or .jar file\n.\nUse the\nUpload\nbutton to select the zip file containing your code.\nIn the lower-right of the dialog click the\nSave\nbutton to deploy your code.\nScroll down to the\nRuntime settings\ntable and in the upper-right click the\nEdit\nbutton.\nChange the\nHandler\nto the canonical class name for the new class you wrote that extends\nAbstractLambdaHandler\nand implements\nAtlanEventHandler\n.\nIn the lower-right, click the\nSave\nbutton.\nIn the\nCode source\ntable you can either:\n(Recommended) Copy / paste the code from your new module (file) into the editor window for\nlambda_function.py\n.\nIn the upper-right, click\nUpload from\nand choose the location of your code.\nTowards the middle of the\nCode source\ntable, click the\nDeploy\nbutton to deploy your code.\nIf you uploaded your own code:\nScroll down to the\nRuntime settings\ntable and in the upper-right click the\nEdit\nbutton.\nChange the\nHandler\nto the module (file) name for the new module you wrote that extends\nAtlanEventHandler\nand implements the simple\nlambda_handler(event, context)\nfunction. The value should be:\n<module_name>.lambda_handler\n.\nIn the lower-right, click the\nSave\nbutton.\nUnit test the code\n¶",
    "metadata": {
      "source_url": "patterns_events_aws-lambda-webhooks_deploy.html",
      "source_type": "sdk",
      "file": "patterns_events_aws-lambda-webhooks_deploy.json",
      "chunk_id": 2
    }
  },
  {
    "content": "and implements the simple\nlambda_handler(event, context)\nfunction. The value should be:\n<module_name>.lambda_handler\n.\nIn the lower-right, click the\nSave\nbutton.\nUnit test the code\n¶\nFinally, to confirm your code is all set up to work as expected, you can run a quick test.\nChange to the\nTest\ntab of your AWS Lambda function.\nFor\nEvent name\nenter something like\nwebhook-validation\n.\nIn the\nEvent JSON\ncode area, paste in the following payload:\nEvent JSON\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n{\n\"version\"\n:\n\"2.0\"\n,\n\"routeKey\"\n:\n\"$default\"\n,\n\"rawPath\"\n:\n\"/\"\n,\n\"rawQueryString\"\n:\n\"\"\n,\n\"headers\"\n:\n{\n\"content-length\"\n:\n\"85\"\n,\n\"x-amzn-tls-cipher-suite\"\n:\n\"ECDHE-RSA-AES128-GCM-SHA256\"\n,\n\"x-amzn-tls-version\"\n:\n\"TLSv1.2\"\n,\n\"x-amzn-trace-id\"\n:\n\"Root=1-64931f85-02856e0b115997577ed16d97\"\n,\n\"x-forwarded-proto\"\n:\n\"https\"\n,\n\"host\"\n:\n\"uo8rokyifhnhubgagp106xhrpvgmuqhx.lambda-url.us-east-1.on.aws\"\n,\n\"x-forwarded-port\"\n:\n\"443\"\n,\n\"content-type\"\n:\n\"text/plain; charset=utf-8\"\n,\n\"x-forwarded-for\"\n:\n\"34.194.9.164\"\n,\n\"accept-encoding\"\n:\n\"gzip\"\n,\n\"user-agent\"\n:\n\"go-resty/1.12.0 (https://github.com/go-resty/resty)\"\n},\n\"requestContext\"\n:\n{",
    "metadata": {
      "source_url": "patterns_events_aws-lambda-webhooks_deploy.html",
      "source_type": "sdk",
      "file": "patterns_events_aws-lambda-webhooks_deploy.json",
      "chunk_id": 3
    }
  },
  {
    "content": ":\n\"text/plain; charset=utf-8\"\n,\n\"x-forwarded-for\"\n:\n\"34.194.9.164\"\n,\n\"accept-encoding\"\n:\n\"gzip\"\n,\n\"user-agent\"\n:\n\"go-resty/1.12.0 (https://github.com/go-resty/resty)\"\n},\n\"requestContext\"\n:\n{\n\"accountId\"\n:\n\"anonymous\"\n,\n\"apiId\"\n:\n\"uo8rokyifhnhubgagp106xhrpvgmuqhx\"\n,\n\"domainName\"\n:\n\"uo8rokyifhnhubgagp106xhrpvgmuqhx.lambda-url.us-east-1.on.aws\"\n,\n\"domainPrefix\"\n:\n\"uo8rokyifhnhubgagp106xhrpvgmuqhx\"\n,\n\"http\"\n:\n{\n\"method\"\n:\n\"POST\"\n,\n\"path\"\n:\n\"/\"\n,\n\"protocol\"\n:\n\"HTTP/1.1\"\n,\n\"sourceIp\"\n:\n\"34.194.9.164\"\n,\n\"userAgent\"\n:\n\"go-resty/1.12.0 (https://github.com/go-resty/resty)\"\n},\n\"requestId\"\n:\n\"27539f31-d444-419e-b1ad-4382657b7e04\"\n,\n\"routeKey\"\n:\n\"$default\"\n,\n\"stage\"\n:\n\"$default\"\n,\n\"time\"\n:\n\"21/Jun/2023:16:04:21 +0000\"\n,\n\"timeEpoch\"\n:\n1687363461544\n},\n\"body\"\n:\n\"{\\\"atlan-webhook\\\": \\\"Hello, humans of data! It worked. Excited to see what you build!\\\"}\"\n,\n\"isBase64Encoded\"\n:\nfalse\n}\nIn the upper-right of the\nTest event\ntable, click the\nTest\nbutton.\nThis first time the code runs it may take a number of seconds to complete.\nWhen completed, you should see a dialog at the top of the\nTest\ntab similar to the following, indicating a successful run and including log output:",
    "metadata": {
      "source_url": "patterns_events_aws-lambda-webhooks_deploy.html",
      "source_type": "sdk",
      "file": "patterns_events_aws-lambda-webhooks_deploy.json",
      "chunk_id": 4
    }
  },
  {
    "content": "When completed, you should see a dialog at the top of the\nTest\ntab similar to the following, indicating a successful run and including log output:\nExecuting function: suceeded (logs\n)\nThe area below shows the last 4 KB of the execution log.\nnull\nSummary\nCode SHA-256: hVSS2lGvNZii3XkecExrI3urKloxTSFgZfK670kKPOs=\nRequest ID: 5d1bb1ab-0652-4f8c-8f57-f3d9f7cb86e6\nInit duration: 6140.29 ms\nDuration: 1.61 ms\nBilled duration: 2 ms\nResources configured: 128 MB\nMax memory used: 126 MB\nLog output\nThe section below shows the logging calls in your code. Click here to view the corresponding CloudWatch log group.\nSTART\nRequestId\n:\n5\nd1bb1ab\n-\n0652\n-\n4\nf8c\n-\n8\nf57\n-\nf3d9f7cb86e6\nVersion\n:\n$\nLATEST\n# (1)\n{\n'version'\n:\n'2.0'\n,\n'routeKey'\n:\n'$default'\n,\n'rawPath'\n:\n'/'\n,\n'rawQueryString'\n:\n''\n,\n'headers'\n:\n{\n'content-length'\n:\n'85'\n,\n'x-amzn-tls-cipher-suite'\n:\n'ECDHE-RSA-AES128-GCM-SHA256'\n,\n'x-amzn-tls-version'\n:\n'TLSv1.2'\n,\n'x-amzn-trace-id'\n:\n'Root=1-64931f85-02856e0b115997577ed16d97'\n,\n'x-forwarded-proto'\n:\n'https'\n,\n'host'\n:\n'uo8rokyifhnhubgagp106xhrpvgmuqhx.lambda-url.us-east-1.on.aws'\n,\n'x-forwarded-port'\n:\n'443'\n,\n'content-type'\n:\n'text/plain; charset=utf-8'\n,\n'x-forwarded-for'\n:",
    "metadata": {
      "source_url": "patterns_events_aws-lambda-webhooks_deploy.html",
      "source_type": "sdk",
      "file": "patterns_events_aws-lambda-webhooks_deploy.json",
      "chunk_id": 5
    }
  },
  {
    "content": ":\n'https'\n,\n'host'\n:\n'uo8rokyifhnhubgagp106xhrpvgmuqhx.lambda-url.us-east-1.on.aws'\n,\n'x-forwarded-port'\n:\n'443'\n,\n'content-type'\n:\n'text/plain; charset=utf-8'\n,\n'x-forwarded-for'\n:\n'34.194.9.164'\n,\n'accept-encoding'\n:\n'gzip'\n,\n'user-agent'\n:\n'go-resty/1.12.0 (https://github.com/go-resty/resty)'\n},\n'requestContext'\n:\n{\n'accountId'\n:\n'anonymous'\n,\n'apiId'\n:\n'uo8rokyifhnhubgagp106xhrpvgmuqhx'\n,\n'domainName'\n:\n'uo8rokyifhnhubgagp106xhrpvgmuqhx.lambda-url.us-east-1.on.aws'\n,\n'domainPrefix'\n:\n'uo8rokyifhnhubgagp106xhrpvgmuqhx'\n,\n'http'\n:\n{\n'method'\n:\n'POST'\n,\n'path'\n:\n'/'\n,\n'protocol'\n:\n'HTTP/1.1'\n,\n'sourceIp'\n:\n'34.194.9.164'\n,\n'userAgent'\n:\n'go-resty/1.12.0 (https://github.com/go-resty/resty)'\n},\n'requestId'\n:\n'27539f31-d444-419e-b1ad-4382657b7e04'\n,\n'routeKey'\n:\n'$default'\n,\n'stage'\n:\n'$default'\n,\n'time'\n:\n'21/Jun/2023:16:04:21 +0000'\n,\n'timeEpoch'\n:\n1687363461544\n},\n'body'\n:\n'{\"atlan-webhook\": \"Hello, humans of data! It worked. Excited to see what you build!\"}'\n,\n'isBase64Encoded'\n:\nFalse\n}\nMatches\na\nvalidation\nrequest\n-\ndoing\nnothing\nand\nsucceeding\n.\n# (2)\nEND\nRequestId\n:\n5\nd1bb1ab\n-\n0652\n-\n4\nf8c\n-\n8\nf57\n-\nf3d9f7cb86e6\n# (3)\nREPORT\nRequestId\n:\n5\nd1bb1ab\n-\n0652\n-\n4\nf8c\n-\n8\nf57\n-",
    "metadata": {
      "source_url": "patterns_events_aws-lambda-webhooks_deploy.html",
      "source_type": "sdk",
      "file": "patterns_events_aws-lambda-webhooks_deploy.json",
      "chunk_id": 6
    }
  },
  {
    "content": "False\n}\nMatches\na\nvalidation\nrequest\n-\ndoing\nnothing\nand\nsucceeding\n.\n# (2)\nEND\nRequestId\n:\n5\nd1bb1ab\n-\n0652\n-\n4\nf8c\n-\n8\nf57\n-\nf3d9f7cb86e6\n# (3)\nREPORT\nRequestId\n:\n5\nd1bb1ab\n-\n0652\n-\n4\nf8c\n-\n8\nf57\n-\nf3d9f7cb86e6\nDuration\n:\n1.61\nms\nBilled\nDuration\n:\n2\nms\nMemory\nSize\n:\n128\nMB\nMax\nMemory\nUsed\n:\n126\nMB\nInit\nDuration\n:\n6140.29\nms\nYou should see an opening line indicating the unique ID (GUID) of the individual request representing the test run itself. (This may be followed by other logging output, depending on your code's logic.)\nFor this particular payload, you should see a message indicating that what was received was a validation request, and thus any custom code will not execute and will simply succeed.\nYou should see some closing lines, indicating the same unique ID (GUID) of the request and the duration of the processing.\n2023-06-23\n2024-04-22\nWas this page helpful?\nThanks for your feedback!\nThanks for your feedback! Help us improve this page by using our\nfeedback form\nto provide us with more information.\nBack to top\nCookie consent\nWe use cookies to:\nAnonymously measure page views, and\nAllow you to give us one-click feedback on any page.\nWe do\nnot\ncollect or store:",
    "metadata": {
      "source_url": "patterns_events_aws-lambda-webhooks_deploy.html",
      "source_type": "sdk",
      "file": "patterns_events_aws-lambda-webhooks_deploy.json",
      "chunk_id": 7
    }
  },
  {
    "content": "to provide us with more information.\nBack to top\nCookie consent\nWe use cookies to:\nAnonymously measure page views, and\nAllow you to give us one-click feedback on any page.\nWe do\nnot\ncollect or store:\nAny personally identifiable information.\nAny information for any (re)marketing purposes.\nWith your consent, you're helping us to make our documentation better 💙\nGoogle Analytics\nAccept\nReject\nManage settings",
    "metadata": {
      "source_url": "patterns_events_aws-lambda-webhooks_deploy.html",
      "source_type": "sdk",
      "file": "patterns_events_aws-lambda-webhooks_deploy.json",
      "chunk_id": 8
    }
  }
]