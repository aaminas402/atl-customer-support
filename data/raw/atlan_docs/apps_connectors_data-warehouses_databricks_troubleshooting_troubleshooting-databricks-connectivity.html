<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-apps/connectors/data-warehouses/databricks/troubleshooting/troubleshooting-databricks-connectivity" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Troubleshooting Databricks connectivity | Atlan Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.atlan.com/apps/connectors/data-warehouses/databricks/troubleshooting/troubleshooting-databricks-connectivity"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Troubleshooting Databricks connectivity | Atlan Documentation"><meta data-rh="true" name="description" content="Learn about troubleshooting databricks connectivity."><meta data-rh="true" property="og:description" content="Learn about troubleshooting databricks connectivity."><link data-rh="true" rel="icon" href="/img/atlan.ico"><link data-rh="true" rel="canonical" href="https://docs.atlan.com/apps/connectors/data-warehouses/databricks/troubleshooting/troubleshooting-databricks-connectivity"><link data-rh="true" rel="alternate" href="https://docs.atlan.com/apps/connectors/data-warehouses/databricks/troubleshooting/troubleshooting-databricks-connectivity" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.atlan.com/apps/connectors/data-warehouses/databricks/troubleshooting/troubleshooting-databricks-connectivity" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://N7XGBZ1DRU-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Databricks","item":"https://docs.atlan.com/apps/connectors/data-warehouses/databricks/"},{"@type":"ListItem","position":2,"name":"Troubleshooting Databricks connectivity","item":"https://docs.atlan.com/apps/connectors/data-warehouses/databricks/troubleshooting/troubleshooting-databricks-connectivity"}]}</script><link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a);m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id=GTM-TZTFMW4J",g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer")</script>



<link rel="search" type="application/opensearchdescription+xml" title="Atlan Documentation" href="/opensearch.xml">
<script>window.chatbaseConfig={chatbotId:"btNPYbU8VGvFO0WWx3RKy"}</script>
<script src="https://darkvisitors.com/tracker.js?project_key=d507548f-a6ca-4d07-a911-d7ba35b9fec1"></script>
<script src="/scripts/atlan-scout.js" defer="defer"></script><link rel="stylesheet" href="/assets/css/styles.2ae6c2ab.css">
<script src="/assets/js/runtime~main.0b8b8442.js" defer="defer"></script>
<script src="/assets/js/main.8984a2fd.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TZTFMW4J" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/atlan-logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top customNavbar_Xl4v"><div class="topRow_xtvp"><div class="leftSection_J1NA"><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/atlan-logo.svg" alt="Atlan Logo" class="themedComponent_mlkZ themedComponent--light_NVdE" height="52" width="52"><img src="/img/atlan-logo.svg" alt="Atlan Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU" height="52" width="52"></div><b class="navbar__title text--truncate"></b></a></div><div class="centerSection_aleN"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><div class="rightSection_NZiV"><a href="https://docs.google.com/forms/d/e/1FAIpQLScuAIhCm2GS7YFstrOjawbP8J7PUmOynQo7wI2yGCcCyEcVSw/viewform" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Partner with us<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://shipped.atlan.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">What&#x27;s new<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://atlan.zendesk.com/auth/v2/login/signin?return_to=https%3A%2F%2Fatlan.zendesk.com%2Fhc%2Fen-us&amp;theme=hc&amp;locale=en-us&amp;brand_id=1900000425113&amp;auth_origin=1900000425113%2Cfalse%2Ctrue" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Support portal<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="signInButton_ixSd"><a class="navbar__item navbar__link" href="/support/submit-request">Contact support</a></div><button class="clean-btn mobileMenuButton_ad49" aria-label="Toggle navigation bar"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></button></div></div><div class="menuRow_gXbp"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__item navbar__link" href="/get-started/what-is-atlan">Get started</a><div class="navbar__item dropdown nestedDropdownRoot_TGVd"><a href="#" role="button" tabindex="0" class="navbar__link nestedDropdownLink_AhWE" aria-haspopup="true" aria-expanded="false">Connect data<span class="nestedDropdownCaret_oaQx"></span></a></div><div class="navbar__item dropdown nestedDropdownRoot_TGVd"><a href="#" role="button" tabindex="0" class="navbar__link nestedDropdownLink_AhWE" aria-haspopup="true" aria-expanded="false">Use data<span class="nestedDropdownCaret_oaQx"></span></a></div><div class="navbar__item dropdown nestedDropdownRoot_TGVd"><a href="#" role="button" tabindex="0" class="navbar__link nestedDropdownLink_AhWE" aria-haspopup="true" aria-expanded="false">Build governance<span class="nestedDropdownCaret_oaQx"></span></a></div><div class="navbar__item dropdown nestedDropdownRoot_TGVd"><a href="#" role="button" tabindex="0" class="navbar__link nestedDropdownLink_AhWE" aria-haspopup="true" aria-expanded="false">Configure Atlan<span class="nestedDropdownCaret_oaQx"></span></a></div></div><div class="navbar__items navbar__items--right"></div></div></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/apps/connectors/data-warehouses/databricks">Databricks</a><button aria-label="Collapse sidebar category &#x27;Databricks&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/apps/connectors/data-warehouses/databricks/how-tos/set-up-databricks">Get Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/apps/connectors/data-warehouses/databricks/how-tos/set-up-cross-workspace-extraction">Cross-workspace Setup</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/apps/connectors/data-warehouses/databricks/how-tos/crawl-databricks">Crawl Databricks Assets</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/apps/connectors/data-warehouses/databricks/how-tos/set-up-on-premises-databricks-access">On-premises Setup</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/apps/connectors/data-warehouses/databricks/how-tos/set-up-an-aws-private-network-link-to-databricks">Private Network Setup</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/apps/connectors/data-warehouses/databricks/how-tos/extract-lineage-and-usage-from-databricks">Lineage and Usage</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/apps/connectors/data-warehouses/databricks/how-tos/manage-databricks-tags">Tag management</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/apps/connectors/data-warehouses/databricks/references/what-does-atlan-crawl-from-databricks">References</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/apps/connectors/data-warehouses/databricks/troubleshooting/troubleshooting-databricks-connectivity">Troubleshooting</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/apps/connectors/data-warehouses/databricks/troubleshooting/troubleshooting-databricks-connectivity">Troubleshooting Databricks connectivity</a></li></ul></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Alpn" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_xK9p"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Connect data</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Data Warehouses</span></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/apps/connectors/data-warehouses/databricks"><span>Databricks</span></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Troubleshooting</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Troubleshooting Databricks connectivity</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Troubleshooting Databricks connectivity</h1></header><div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span><strong>Did you know?</strong></div><div class="admonitionContent_BuS1"><p>The documentation refers to both <em>SQL endpoint</em> and <em>interactive cluster</em> as <em>compute engine</em> below.</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="does-atlan-consider-expensive-queries-and-compute-costs">Does Atlan consider expensive queries and compute costs?<a href="#does-atlan-consider-expensive-queries-and-compute-costs" class="hash-link" aria-label="Direct link to Does Atlan consider expensive queries and compute costs?" title="Direct link to Does Atlan consider expensive queries and compute costs?">â</a></h4>
<p>No, Atlan doesn&#x27;t factor in expensive queries or compute costs due to limitations in the Databricks APIs, which don&#x27;t expose this information.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="how-does-atlan-calculate-popularity-for-databricks-assets">How does Atlan calculate popularity for Databricks assets?<a href="#how-does-atlan-calculate-popularity-for-databricks-assets" class="hash-link" aria-label="Direct link to How does Atlan calculate popularity for Databricks assets?" title="Direct link to How does Atlan calculate popularity for Databricks assets?">â</a></h4>
<p>Atlan calculates popularity for <code>tables</code>, <code>views</code>, and <code>columns</code> in Databricks by analyzing query execution data. It retrieves query history from the <code>system.query.history</code> table and specifically filters for <code>execution_status = &#x27;FINISHED&#x27;</code> and <code>statement_type = &#x27;SELECT&#x27;</code> to determine how frequently assets are accessed.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-debug-test-authentication-and-preflight-check-errors">How to debug test authentication and preflight check errors?<a href="#how-to-debug-test-authentication-and-preflight-check-errors" class="hash-link" aria-label="Direct link to How to debug test authentication and preflight check errors?" title="Direct link to How to debug test authentication and preflight check errors?">â</a></h4>
<p><strong>Hostname resolution error</strong></p>
<p><code>Provided Host name cannot be resolved via DNS, please check and try again.</code></p>
<ul>
<li>The hostname you have provided can&#x27;t be resolved through DNS. Check that the hostname is correct.</li>
<li>Verify that the DNS settings have been configured properly.</li>
</ul>
<p><strong>Invalid client ID or secret</strong></p>
<p><code>Provided Client ID is invalid, please check and try again.</code></p>
<ul>
<li>The client ID or secret you have provided is either invalid or no longer working. Follow the steps for <a href="/apps/connectors/data-warehouses/databricks/how-tos/set-up-databricks">AWS</a> or <a href="/apps/connectors/data-warehouses/databricks/how-tos/set-up-databricks">Azure</a> setup to generate new credentials.</li>
</ul>
<p><strong>Invalid tenant ID</strong></p>
<p><code>Provided tenant ID is invalid, please check and try again.</code></p>
<ul>
<li>The tenant ID you have provided is incorrect.</li>
<li>Ensure that the tenant ID you have provided corresponds to the one in your <a href="/apps/connectors/data-warehouses/databricks/how-tos/set-up-databricks">Microsoft Entra ID application</a>.</li>
</ul>
<p><strong>Unity Catalog not linked</strong></p>
<p><code>Configured Databricks instance doesn&#x27;t have Unity Catalog linked. Please choose JDBC extraction instead of REST API in Atlan.</code></p>
<ul>
<li>If you have not set up Unity Catalog in your Databricks workspace, you can <a href="/apps/connectors/data-warehouses/databricks/how-tos/crawl-databricks">change the extraction method to JDBC</a> instead of REST API to crawl your Databricks assets in Atlan.</li>
</ul>
<p><strong>Connection timeout</strong></p>
<p><code>Failed to connect to Databricks (connection timed out). Please check your host and port and try again.</code></p>
<ul>
<li>The connection to the Databricks instance has timed out.</li>
<li>Verify that the host and port are correct.</li>
<li>Check that no firewall rules or network issues are blocking the connection.</li>
</ul>
<p><strong>Invalid HTTP path</strong></p>
<p><code>Provided HTTP path is invalid, please check and try again.</code></p>
<ul>
<li>The <a href="/apps/connectors/data-warehouses/databricks/how-tos/crawl-databricks">HTTP path</a> you have provided is invalid.</li>
<li>Ensure that the endpoint is properly configured and accessible, and the warehouse ID in the HTTP path is correct.</li>
</ul>
<p><strong>Invalid personal access token</strong></p>
<p><code>PAT token is invalid, please check and try again.</code></p>
<ul>
<li>The personal access token used for authentication is invalid.</li>
<li>Ensure that the token is valid and neither deleted nor expired.</li>
<li>You can also generate a new <a href="/apps/connectors/data-warehouses/databricks/how-tos/set-up-databricks">personal access token</a>, if needed.</li>
</ul>
<p><strong>Insufficient permisions for crawling metadata</strong></p>
<p><code>User doesn&#x27;t have access to any schemas / dbs, please check the accesses provided to the atlan user and try again.</code></p>
<ul>
<li>Check that the service principal or the user who&#x27;s PAT token is being used has the necessary permissions provided. Refer to the <a href="/apps/connectors/data-warehouses/databricks/how-tos/set-up-databricks">setup doc</a> to understand permissions required for different auth types.</li>
</ul>
<p><strong>Insufficient permisions for some of the included crawling metadata</strong></p>
<p><code>Warning, user doesn&#x27;t have access to the following objects anymore, or the objects no longer exist on the source!, check failed for ...</code></p>
<ul>
<li>user doesn&#x27;t have access to one or more db objects from the include filter, (such as catalogs / schemas).</li>
<li>You can either remove these objects from the include filter if they no longer exist on the source.</li>
<li>Or check that the service principal or the user who&#x27;s PAT token is being used has the necessary permissions provided. Refer to the <a href="/apps/connectors/data-warehouses/databricks/how-tos/set-up-databricks">setup doc</a> to understand permissions required for different auth types.</li>
</ul>
<p><strong>Insufficient permisions to crawl tags</strong></p>
<p><code>User doesn&#x27;t have access to the following system tables</code></p>
<ul>
<li>Check that you have sufficient permissions provided for the <a href="/apps/connectors/data-warehouses/databricks/how-tos/set-up-databricks#optional-grant-permissions-to-import-and-update-tags">tags extraction</a>.</li>
</ul>
<p><strong>User doesn&#x27;t have permission to access warehouses</strong></p>
<p><code>please check your credentials and warehouse access</code></p>
<ul>
<li>Check that the configured user / service principal has <code>CAN_USE</code> on the configured SQL warehouse.</li>
</ul>
<p><strong>Unable to access query history from the source, user doesn&#x27;t have the access</strong></p>
<ul>
<li>Check the <a href="/apps/connectors/data-warehouses/databricks/how-tos/set-up-databricks#grant-permissions-1">permissions required</a> for the system tables based lineage extraction are provided.</li>
</ul>
<p><strong>System table extraction checks failing with</strong></p>
<p><code>User doesn&#x27;t have access to the following system tables</code></p>
<ul>
<li>Check the <a href="/apps/connectors/data-warehouses/databricks/how-tos/set-up-databricks#system-tables-extraction-method">permissions required</a> for the system tables based extraction.</li>
</ul>
<p><strong>General connection failure</strong></p>
<p><code>Unable to connect to the configured Databricks instance, please check your credentials and configs and then try again. If the problem persists, contact <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="3d4e484d4d524f497d5c49515c53135e5250">[email&#160;protected]</a></code>.</p>
<ul>
<li>Check that you have entered the host and port correctly.</li>
<li>Verify that the credentials for the connection are correct.</li>
<li>Check that your Databricks instance is properly configured and available.</li>
<li>If the problem still persists after verifying all of the previous steps, <a href="/support/submit-request">contact Atlan support</a>.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="why-does-the-workflow-take-longer-than-usual-in-the-extraction-step">Why does the workflow take longer than usual in the extraction step?<a href="#why-does-the-workflow-take-longer-than-usual-in-the-extraction-step" class="hash-link" aria-label="Direct link to Why does the workflow take longer than usual in the extraction step?" title="Direct link to Why does the workflow take longer than usual in the extraction step?">â</a></h4>
<ul>
<li>Certain Databricks runtime versions don&#x27;t have an easy way to extract some metadata (for example partitioning, table_type, and format). Extra operations must be performed to retrieve these, resulting in slower performance.</li>
<li>If you aren&#x27;t already, you may want to try the <a href="/apps/connectors/data-warehouses/databricks/how-tos/crawl-databricks#rest-api-extraction-method">Unity Catalog extraction method</a>.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="why-is-some-metadata-missing">Why is some metadata missing?<a href="#why-is-some-metadata-missing" class="hash-link" aria-label="Direct link to Why is some metadata missing?" title="Direct link to Why is some metadata missing?">â</a></h4>
<ul>
<li>
<p>When using incremental extraction, consider running a one-time full extraction to capture any newly introduced metadata.</p>
</li>
<li>
<p>Currently, some metadata can&#x27;t be extracted from Databricks:</p>
<table><thead><tr><th>Metadata</th><th>JDBC</th><th>REST API</th><th>System Tables</th></tr></thead><tbody><tr><td><code>ViewCount</code> and <code>TableCount</code> (on schemas)</td><td>â</td><td>â</td><td>â</td></tr><tr><td><code>RowCount</code> (on tables and views)</td><td>â</td><td>â</td><td>â</td></tr><tr><td><code>TABLE_KIND</code> (on tables and views)</td><td>â</td><td>â</td><td>â</td></tr><tr><td><code>PARTITION_STRATEGY</code> (on tables and views)</td><td>â</td><td>â</td><td>â</td></tr><tr><td><code>CONSTRAINT_TYPE</code> (on columns)</td><td>â</td><td>â</td><td>â</td></tr><tr><td>Partition key (on columns)</td><td>â</td><td>â</td><td>â</td></tr><tr><td>Table partitioning information</td><td>â</td><td>â</td><td>â</td></tr><tr><td><code>BYTES</code>, <code>SIZEINBYTES</code> (table size)</td><td>â</td><td>â</td><td>â</td></tr></tbody></table>
</li>
<li>
<p>The team is exploring ways to bring this metadata into Atlan if Databricks supports extraction of the metadata.</p>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="why-doesnt-my-sql-work-when-querying-databricks">Why doesn&#x27;t my SQL work when querying Databricks?<a href="#why-doesnt-my-sql-work-when-querying-databricks" class="hash-link" aria-label="Direct link to Why doesn&#x27;t my SQL work when querying Databricks?" title="Direct link to Why doesn&#x27;t my SQL work when querying Databricks?">â</a></h4>
<ul>
<li>Atlan currently supports <a href="https://docs.databricks.com/spark/latest/spark-sql/language-manual/index.html" target="_blank" rel="noopener noreferrer">SparkSQL on Databricks runtime 7.x and above</a>.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="can-i-use-atlan-when-the-databricks-compute-engine-isnt-running">Can I use Atlan when the Databricks compute engine isn&#x27;t running?<a href="#can-i-use-atlan-when-the-databricks-compute-engine-isnt-running" class="hash-link" aria-label="Direct link to Can I use Atlan when the Databricks compute engine isn&#x27;t running?" title="Direct link to Can I use Atlan when the Databricks compute engine isn&#x27;t running?">â</a></h4>
<ul>
<li>Atlan needs the Databricks compute engine to be running for two activities:<!-- -->
<ul>
<li>Crawling assets (normal and scheduled run)</li>
<li>Querying assets (including data previews)</li>
</ul>
</li>
<li>If you don&#x27;t need to perform the activities listed, your experience shouldn&#x27;t be affected.</li>
<li>In any other case, you&#x27;ll get a downgraded experience on Atlan if the compute engine isn&#x27;t running. Queries won&#x27;t work as expected and a scheduled workflow might fail after a couple of retries.</li>
<li>The team recommends turning off the <em>Terminate after x minutes of inactivity</em> option in your cluster to avoid these problems. If you have this turned on, any of the listed activities triggers the cluster to come back online within about 30 seconds.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="why-cant-i-see-all-the-assets-on-atlan-that-are-available-in-databricks">Why can&#x27;t I see all the assets on Atlan that are available in Databricks?<a href="#why-cant-i-see-all-the-assets-on-atlan-that-are-available-in-databricks" class="hash-link" aria-label="Direct link to Why can&#x27;t I see all the assets on Atlan that are available in Databricks?" title="Direct link to Why can&#x27;t I see all the assets on Atlan that are available in Databricks?">â</a></h4>
<ul>
<li>Have you <a href="/apps/connectors/data-warehouses/databricks/how-tos/crawl-databricks#configure-the-crawler">excluded the database or schema when crawling</a>?</li>
<li>Does the <a href="/apps/connectors/data-warehouses/databricks/how-tos/set-up-databricks">Databricks user you configured for crawling</a> have access to these other assets?</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="why-is-the-test-authentication-taking-so-long">Why is the test authentication taking so long?<a href="#why-is-the-test-authentication-taking-so-long" class="hash-link" aria-label="Direct link to Why is the test authentication taking so long?" title="Direct link to Why is the test authentication taking so long?">â</a></h4>
<ul>
<li>Please check the state of the compute engine. It must be in a <em>running</em> state for all operations, including authentication.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="what-limitations-are-there-with-the-rest-api-unity-catalog-extraction-method">What limitations are there with the REST API (Unity Catalog) extraction method?<a href="#what-limitations-are-there-with-the-rest-api-unity-catalog-extraction-method" class="hash-link" aria-label="Direct link to What limitations are there with the REST API (Unity Catalog) extraction method?" title="Direct link to What limitations are there with the REST API (Unity Catalog) extraction method?">â</a></h4>
<ul>
<li>Currently, schema-level filtering and retrieving table partitioning information aren&#x27;t supported.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="why-has-my-workflow-started-to-fail-when-it-worked-before">Why has my workflow started to fail when it worked before?<a href="#why-has-my-workflow-started-to-fail-when-it-worked-before" class="hash-link" aria-label="Direct link to Why has my workflow started to fail when it worked before?" title="Direct link to Why has my workflow started to fail when it worked before?">â</a></h4>
<ul>
<li>This can happen if <a href="/apps/connectors/data-warehouses/databricks/how-tos/set-up-databricks">the PAT you configured</a> the workflow with has since expired.</li>
<li>You will need to create a new PAT in Databricks, and then <a href="/product/connections/how-tos/manage-connectivity">modify the workflow configuration in Atlan</a> with this new PAT.</li>
<li>If you are unable to update the PAT, pause the workflow and <a href="/support/submit-request">reach out to us</a>.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="how-do-i-migrate-to-unity-catalog">How do I migrate to Unity Catalog?<a href="#how-do-i-migrate-to-unity-catalog" class="hash-link" aria-label="Direct link to How do I migrate to Unity Catalog?" title="Direct link to How do I migrate to Unity Catalog?">â</a></h4>
<ul>
<li>Currently Unity Catalog is in a public preview state.</li>
<li>The Databricks team is working on an automated migration to Unity Catalog.</li>
<li>Currently you must migrate individual tables manually.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="why-are-some-notebooks-missing-from-metadata-extraction">Why are some notebooks missing from metadata extraction?<a href="#why-are-some-notebooks-missing-from-metadata-extraction" class="hash-link" aria-label="Direct link to Why are some notebooks missing from metadata extraction?" title="Direct link to Why are some notebooks missing from metadata extraction?">â</a></h4>
<p>Notebooks stored inside hidden directories (names starting with &quot;.&quot; such as <code>.hidden_dir/</code>) are generally not returned by the <code>/api/2.0/workspace/list</code> API endpoint. This may cause missing notebook details in Atlan.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="why-is-metadata-missing-for-some-databricks-entities">Why is metadata missing for some Databricks entities?<a href="#why-is-metadata-missing-for-some-databricks-entities" class="hash-link" aria-label="Direct link to Why is metadata missing for some Databricks entities?" title="Direct link to Why is metadata missing for some Databricks entities?">â</a></h4>
<p>The Databricks APIs used provide data only within a single configured workspace. If an entity used in lineage creation exists outside this workspace, its details won&#x27;t be available via these APIs.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="does-atlan-support-nested-columns-beyond-level-30">Does Atlan support nested columns beyond level 30?<a href="#does-atlan-support-nested-columns-beyond-level-30" class="hash-link" aria-label="Direct link to Does Atlan support nested columns beyond level 30?" title="Direct link to Does Atlan support nested columns beyond level 30?">â</a></h4>
<p>Atlan doesn&#x27;t support nested columns beyond 30 levels for complex types such as Struct, Array, and Map. Columns exceeding this nesting depth aren&#x27;t parsed. Instead, the deepest column level gets assigned the data type string, and its value contains a string representation of the remaining nested structure.</p>
<p>For example, <code>LEVEL_31</code> has the data type <code>&lt;LEVEL_32:STRUCT&lt;LEVEL_33:STRUCT&lt;...&gt;&gt;&gt;</code>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="what-happens-if-the-service-principal-loses-access-to-one-workspace">What happens if the service principal loses access to one workspace?<a href="#what-happens-if-the-service-principal-loses-access-to-one-workspace" class="hash-link" aria-label="Direct link to What happens if the service principal loses access to one workspace?" title="Direct link to What happens if the service principal loses access to one workspace?">â</a></h4>
<p>The crawler is resilient to this scenario. During the discovery phase, it fails to connect to that specific workspace, logs it as inaccessible, and simply skips it. The process continues for all other available workspaces without failing the entire run.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="why-are-assets-from-a-specific-catalog-not-appearing-in-atlan">Why are assets from a specific catalog not appearing in Atlan?<a href="#why-are-assets-from-a-specific-catalog-not-appearing-in-atlan" class="hash-link" aria-label="Direct link to Why are assets from a specific catalog not appearing in Atlan?" title="Direct link to Why are assets from a specific catalog not appearing in Atlan?">â</a></h4>
<p>This is almost always a permission issue. Verify that the service principal has been granted <code>USE CATALOG</code>, <code>BROWSE</code>, and <code>SELECT</code> permissions on the catalog and its contents (schemas, tables).</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="why-is-my-lineage-view-incomplete">Why is my lineage view incomplete?<a href="#why-is-my-lineage-view-incomplete" class="hash-link" aria-label="Direct link to Why is my lineage view incomplete?" title="Direct link to Why is my lineage view incomplete?">â</a></h4>
<p>Check the source and target tables of the missing lineage link. The service principal must have <code>SELECT</code> permissions on <strong>both</strong> tables for lineage to be captured.</p>
<p>For more information on cross-workspace extraction setup, see <a href="/apps/connectors/data-warehouses/databricks/how-tos/set-up-cross-workspace-extraction">Set up cross-workspace extraction</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/tags/api">api</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/tags/rest-api">rest-api</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/tags/graphql">graphql</a></li></ul></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/apps/connectors/data-warehouses/databricks/references/preflight-checks-for-databricks"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Preflight checks for Databricks</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2025 Atlan Pte. Ltd.</div></div></div></footer><span class="badge_WFAO badge_primary_SeIF" style="cursor:default"></span></div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'97e1fb6d5e31a91d',t:'MTc1NzcwNzEzMy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>